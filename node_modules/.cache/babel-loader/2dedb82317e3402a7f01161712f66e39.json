{"ast":null,"code":"var _jsxFileName = \"/Users/oleksandr/Documents/IT/_REACT/React-homeworks/src/Components/App.js\";\nimport React, { Component } from \"react\";\nimport Layout from \"./Layout/Layout\";\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport ContactList from \"./ContactList/ContactList\";\nimport Filter from \"./Filter/Filter\"; // import Toggler from \"./Toggler/Toggler\";\n\nimport ThemeContext from \"../contexts/ThemeContext\";\nimport ThemeSelector from \"./ThemeSelector/ThemeSelector\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      contacts: [],\n      filter: \"\"\n    };\n\n    this.addContact = _ref => {\n      let {\n        name,\n        number\n      } = _ref;\n      const checkOnExist = this.state.contacts.find(contact => contact.name === name);\n\n      const checkLength = string => string.length < 1;\n\n      const contact = {\n        id: uuidv4(),\n        name,\n        number\n      };\n\n      if (checkLength(`${name}`) || checkLength(`${number}`)) {\n        alert(\"Please, fill in all required entry fields\");\n        return;\n      }\n\n      if (checkOnExist) {\n        alert(`${name} is already in contacts`);\n        return;\n      }\n\n      this.setState(prevState => {\n        return {\n          contacts: [...prevState.contacts, contact]\n        };\n      });\n    };\n\n    this.removeContact = contactId => {\n      this.setState(prevState => {\n        return {\n          contacts: prevState.contacts.filter(_ref2 => {\n            let {\n              id\n            } = _ref2;\n            return id !== contactId;\n          })\n        };\n      });\n    };\n\n    this.changeFilter = filter => {\n      this.setState({\n        filter\n      });\n    };\n\n    this.getFilteredContacts = () => {\n      const {\n        contacts,\n        filter\n      } = this.state;\n      return contacts.filter(contact => contact.name.toLowerCase().includes(filter.toLowerCase()));\n    };\n  }\n\n  componentDidMount() {\n    const persistedContacts = localStorage.getItem(\"contacts\");\n\n    if (persistedContacts) {\n      this.setState({\n        contacts: JSON.parse(persistedContacts)\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  render() {\n    const {\n      filter,\n      contacts\n    } = this.state;\n    const filteredContacts = this.getFilteredContacts();\n    return /*#__PURE__*/_jsxDEV(ThemeContext, {\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(ThemeSelector, {\n          toggleTheme: this.toggleTheme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Phonebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContactForm, {\n          addContact: this.addContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), contacts.length >= 2 && /*#__PURE__*/_jsxDEV(Filter, {\n          value: filter,\n          onChangeFilter: this.changeFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n          contacts: filteredContacts,\n          onRemoveContact: this.removeContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Layout","ContactForm","ContactList","Filter","ThemeContext","ThemeSelector","v4","uuidv4","App","state","contacts","filter","addContact","name","number","checkOnExist","find","contact","checkLength","string","length","id","alert","setState","prevState","removeContact","contactId","changeFilter","getFilteredContacts","toLowerCase","includes","componentDidMount","persistedContacts","localStorage","getItem","JSON","parse","componentDidUpdate","prevProps","setItem","stringify","render","filteredContacts","toggleTheme"],"sources":["/Users/oleksandr/Documents/IT/_REACT/React-homeworks/src/Components/App.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport Layout from \"./Layout/Layout\";\n\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport ContactList from \"./ContactList/ContactList\";\nimport Filter from \"./Filter/Filter\";\n// import Toggler from \"./Toggler/Toggler\";\nimport ThemeContext from \"../contexts/ThemeContext\";\nimport ThemeSelector from \"./ThemeSelector/ThemeSelector\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default class App extends Component {\n  state = {\n    contacts: [],\n    filter: \"\",\n  };\n\n  componentDidMount() {\n    const persistedContacts = localStorage.getItem(\"contacts\");\n    if (persistedContacts) {\n      this.setState({\n        contacts: JSON.parse(persistedContacts),\n      });\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact = ({ name, number }) => {\n    const checkOnExist = this.state.contacts.find(\n      (contact) => contact.name === name\n    );\n\n    const checkLength = (string) => string.length < 1;\n\n    const contact = {\n      id: uuidv4(),\n      name,\n      number,\n    };\n\n    if (checkLength(`${name}`) || checkLength(`${number}`)) {\n      alert(\"Please, fill in all required entry fields\");\n      return;\n    }\n\n    if (checkOnExist) {\n      alert(`${name} is already in contacts`);\n      return;\n    }\n\n    this.setState((prevState) => {\n      return {\n        contacts: [...prevState.contacts, contact],\n      };\n    });\n  };\n  removeContact = (contactId) => {\n    this.setState((prevState) => {\n      return {\n        contacts: prevState.contacts.filter(({ id }) => id !== contactId),\n      };\n    });\n  };\n  changeFilter = (filter) => {\n    this.setState({ filter });\n  };\n  getFilteredContacts = () => {\n    const { contacts, filter } = this.state;\n    return contacts.filter((contact) =>\n      contact.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n\n  render() {\n    const { filter, contacts } = this.state;\n    const filteredContacts = this.getFilteredContacts();\n\n    return (\n      <ThemeContext>\n        <Layout>\n          <ThemeSelector toggleTheme={this.toggleTheme} />\n          <h1>Phonebook</h1>\n          <ContactForm addContact={this.addContact} />\n          <h2>Contacts</h2>\n          {contacts.length >= 2 && (\n            <Filter value={filter} onChangeFilter={this.changeFilter} />\n          )}\n\n          <ContactList\n            contacts={filteredContacts}\n            onRemoveContact={this.removeContact}\n          />\n\n          {/* <Toggler\n          render={({ isOpen, toggle }) => (\n            <ContactList\n              contacts={filteredContacts}\n              onRemoveContact={this.removeContact}\n            />\n          )}\n        /> */}\n          {/* <Toggler>\n            {({ isOpen, onToggle }) => (\n              <>\n                <button type=\"button\" onClick={onToggle}>\n                  {isOpen ? \"Hide\" : \"Show\"}\n                </button>\n                {isOpen && (\n                  <ContactList\n                    contacts={filteredContacts}\n                    onRemoveContact={this.removeContact}\n                  />\n                )}\n              </>\n            )}\n          </Toggler>\n\n          <Toggler>\n            {({ isOpen, onToggle }) => (\n              <>\n                <label>\n                  <input type=\"checkbox\" checked={isOpen} onChange={onToggle} />\n                  {isOpen ? \"Hide\" : \"Show\"}\n                </label>\n                {isOpen && (\n                  <ContactList\n                    contacts={filteredContacts}\n                    onRemoveContact={this.removeContact}\n                  />\n                )}\n              </>\n            )}\n          </Toggler> */}\n        </Layout>\n      </ThemeContext>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}